From b23311a422c6946883c1f252ce1ccdcfb09fe319 Mon Sep 17 00:00:00 2001
From: Halton Huo <halton.huo@intel.com>
Date: Tue, 19 Nov 2013 02:05:46 +0800
Subject: [PATCH 5/6] ffmpeg: disable pragmas.

From: Alexander Shalamov <alexander.shalamov@intel.com>
Date: Thu, 10 Oct 2013 13:45:43 +0300

Tizen 2.x platform have gcc version 4.5 which breaks compilation of new ffmpeg.
Break is caused by pragmas that are used inside functions. This patch modifies
configuration of ffmpeg (chromium/linux/ia32) and disables pragmas.
---
 src/third_party/ffmpeg/chromium/config/Chromium/linux/ia32/config.asm | 2 +-
 src/third_party/ffmpeg/chromium/config/Chromium/linux/ia32/config.h   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/third_party/ffmpeg/chromium/config/Chromium/linux/ia32/config.asm b/src/third_party/ffmpeg/chromium/config/Chromium/linux/ia32/config.asm
index 9818e6b..f806a4a 100644
--- a/src/third_party/ffmpeg/chromium/config/Chromium/linux/ia32/config.asm
+++ b/src/third_party/ffmpeg/chromium/config/Chromium/linux/ia32/config.asm
@@ -225,7 +225,7 @@
 %define HAVE_POD2MAN 1
 %define HAVE_POLL_H 1
 %define HAVE_POSIX_MEMALIGN 1
-%define HAVE_PRAGMA_DEPRECATED 1
+%define HAVE_PRAGMA_DEPRECATED 0
 %define HAVE_PTHREAD_CANCEL 1
 %define HAVE_RDTSC 0
 %define HAVE_RSYNC_CONTIMEOUT 1
diff --git a/src/third_party/ffmpeg/chromium/config/Chromium/linux/ia32/config.h b/src/third_party/ffmpeg/chromium/config/Chromium/linux/ia32/config.h
index b78a926..2e8b1cd 100644
--- a/src/third_party/ffmpeg/chromium/config/Chromium/linux/ia32/config.h
+++ b/src/third_party/ffmpeg/chromium/config/Chromium/linux/ia32/config.h
@@ -238,7 +238,7 @@
 #define HAVE_POD2MAN 1
 #define HAVE_POLL_H 1
 #define HAVE_POSIX_MEMALIGN 1
-#define HAVE_PRAGMA_DEPRECATED 1
+#define HAVE_PRAGMA_DEPRECATED 0
 #define HAVE_PTHREAD_CANCEL 1
 #define HAVE_RDTSC 0
 #define HAVE_RSYNC_CONTIMEOUT 1
-- 
1.8.1.2

